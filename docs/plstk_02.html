
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Un deuxième regard : effets du substrat, échantillonnage par région, données additionnelles, prévisions &#8212; Plast-Stock</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="References" href="references.html" />
    <link rel="prev" title="Un premier regard: La quantité probable de particules dans un polygone" href="plstk_01.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Plast-Stock</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="index.html">
                    Plastock - count data
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="plstk_01.html">
   Un premier regard: La quantité probable de particules dans un polygone
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Un deuxième regard : effets du substrat, échantillonnage par région, données additionnelles, prévisions
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="references.html">
   References
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Built by <a href="https://hammerdirt.ch/">hammerdirt</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/hammerdirt-analyst/plastock/master?urlpath=tree/plstk_02.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/hammerdirt-analyst/plastock"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/plstk_02.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resume">
   Résumé
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regions">
     Régions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#substrat">
     Substrat
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#previsions-et-donnees-additionnelles">
     Previsions et données additionnelles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comptage-moyen-par-evenement-par-plage-sur-ligne-d-eau">
   1. Comptage moyen par événement par plage sur
   <em>
    ligne-d’eau
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#toutes-variantes-confondues-toutes-les-donnees">
     Toutes variantes confondues, toutes les données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#resultats-par-evenement">
     Résultats par événement
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comptage-moyen-par-evenement-par-region-sur-ligne-d-eau">
   2. Comptage moyen par événement par région sur
   <em>
    ligne-d’eau
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Toutes variantes confondues, toutes les données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#resultats-par-region">
     Résultats par région
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#la-fonction-de-repartition-par-region">
   La fonction de répartition par région
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nombre-trouve-par-rapport-au-substrat">
   3. Nombre trouvé par rapport au substrat
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nombre-d-echantillons-par-substrat-et-moyen-par-materiel">
     Nombre d’échantillons par substrat et moyen par matériel
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#la-fonction-de-repartition-par-substrat">
   La fonction de répartition par substrat
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#substrat-et-region">
     Substrat et région
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#section-threed">
     Résultats par région
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-nombre-d-echantillons-par-region-et-substrat-et-plage">
   Le nombre d’echantillons par région et substrat et plage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modele-lineaire-generalise-mlg-glm">
   4. Modèle linéaire généralisé (MLG/GLM)
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Un deuxième regard : effets du substrat, échantillonnage par région, données additionnelles, prévisions</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#resume">
   Résumé
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#regions">
     Régions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#substrat">
     Substrat
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#previsions-et-donnees-additionnelles">
     Previsions et données additionnelles
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comptage-moyen-par-evenement-par-plage-sur-ligne-d-eau">
   1. Comptage moyen par événement par plage sur
   <em>
    ligne-d’eau
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#toutes-variantes-confondues-toutes-les-donnees">
     Toutes variantes confondues, toutes les données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#resultats-par-evenement">
     Résultats par événement
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#comptage-moyen-par-evenement-par-region-sur-ligne-d-eau">
   2. Comptage moyen par événement par région sur
   <em>
    ligne-d’eau
   </em>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id1">
     Toutes variantes confondues, toutes les données
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#resultats-par-region">
     Résultats par région
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#la-fonction-de-repartition-par-region">
   La fonction de répartition par région
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nombre-trouve-par-rapport-au-substrat">
   3. Nombre trouvé par rapport au substrat
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#nombre-d-echantillons-par-substrat-et-moyen-par-materiel">
     Nombre d’échantillons par substrat et moyen par matériel
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#la-fonction-de-repartition-par-substrat">
   La fonction de répartition par substrat
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#substrat-et-region">
     Substrat et région
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#section-threed">
     Résultats par région
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#le-nombre-d-echantillons-par-region-et-substrat-et-plage">
   Le nombre d’echantillons par région et substrat et plage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modele-lineaire-generalise-mlg-glm">
   4. Modèle linéaire généralisé (MLG/GLM)
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">datetime</span> <span class="k">as</span> <span class="nn">dt</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib</span> <span class="k">as</span> <span class="nn">mpl</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>

<span class="kn">import</span> <span class="nn">arviz</span> <span class="k">as</span> <span class="nn">az</span>
<span class="kn">import</span> <span class="nn">pymc</span> <span class="k">as</span> <span class="nn">pm</span>
<span class="kn">import</span> <span class="nn">xarray</span> <span class="k">as</span> <span class="nn">xr</span>

<span class="kn">import</span> <span class="nn">json</span>

<span class="n">rng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">default_rng</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<section id="un-deuxieme-regard-effets-du-substrat-echantillonnage-par-region-donnees-additionnelles-previsions">
<h1>Un deuxième regard : effets du substrat, échantillonnage par région, données additionnelles, prévisions<a class="headerlink" href="#un-deuxieme-regard-effets-du-substrat-echantillonnage-par-region-donnees-additionnelles-previsions" title="Permalink to this headline">#</a></h1>
<p><em>doc version: 1, doc type: submission, doc title: A second look, author: Roger Erismann, <a class="reference external" href="mailto:roger&#37;&#52;&#48;hammerdirt&#46;ch">roger<span>&#64;</span>hammerdirt<span>&#46;</span>ch</a></em></p>
<p>Dans le premier modèle, les données ont été regroupées par canton. Cependant, il existe deux variables indépendantes qui peuvent améliorer la performance du modèle (ou expliquer la variabilité):</p>
<ol class="simple">
<li><p>Le substrat du lieu d’échantillonnage a été noté de 1 à 4 par les chercheurs.</p></li>
<li><p>Hydrologie: le lac a été historiquement divisé en trois régions. Ces régions représentent des profils hydrologiques différents.</p></li>
</ol>
<section id="resume">
<h2>Résumé<a class="headerlink" href="#resume" title="Permalink to this headline">#</a></h2>
<p>Le nombre d’échantillons incluant les mises à jour est de 136. Le total moyen des échantillons est de 126pcs, la médiane est de 96pcs. Il y a 25 emplacements différents. La valeur moyenne la plus élevée est 419pcs (Grangettes) et la plus basse est 19pcs (Crans).</p>
<section id="regions">
<h3>Régions<a class="headerlink" href="#regions" title="Permalink to this headline">#</a></h3>
<p>Le Grand lac a le nombre d’échantillons (82), la moyenne (140pcs) et la médiane (122pcs) les plus élevés. La moyenne au Haut lac est de 128pcs pour 28 échantillons,  soit à peu près la même chose que le Grand lac. Par contre la médiane est supérieure de 50pcs dans le Grand lac, ce qui indique que les résultats dans le Haut lac sont plus étalése par rapport au Grand lac. Une autre façon de voir les choses est que des résultats élevées sont tout aussi probables dans le Haut Lac que dans le Grand Lac malgré les différences dans la statistique sommaire. Le Petit lac a la médiane et la moyenne les plus basses. Cependant, la médiane est de 71pcs, soit seulement deux pcs de moins que le Haut lac (73pcs). Cela indique que les résultats élevées sont moins fréquentes dans le Petit lac.</p>
</section>
<section id="substrat">
<h3>Substrat<a class="headerlink" href="#substrat" title="Permalink to this headline">#</a></h3>
<p>Il y a quatre catégories de substrat:</p>
<ol class="simple">
<li><p>Sable fin</p></li>
<li><p>Sable grossier</p></li>
<li><p>Gravier</p></li>
<li><p>Galet</p></li>
</ol>
<p><strong>Sable fin:</strong> 51 échantillons, 32 du Grand Lac, 11 du Haut lac et 8 du Petit lac. Le Haut lac a le résultat moyen le plus élevé (210pcs), mais la médiane la plus élevée est le Grand lac (129pcs).  Ce substrat a également la valeur moyenne la plus élevée pour tous les types de matériaux, (toutes régions et tous lieux confondus).</p>
<p><strong>Sable grossier:</strong> 34 échantillons, 26 du Grand Lac, 7 du Haut lac et 1 du Petit lac. Le Grand lac a le résultat moyen le plus élevé (140pcs) ainsi que la médiane (122pcs). Les résultats dans ce substrat sont moins importants que substrats 1 et 3 mais comparable celle du substrat 4.</p>
<p><strong>Gravier:</strong> 18 échantillons, 1 du Grand Lac, 3 du Haut lac et 14 du Petit lac. Le Grand lac a le résultat moyen le plus élevé (128pcs) ainsi que la médiane (128pcs) mais avec un échantillon seulment. Ce substrat contient plus d’échantillons de Petit lac que des autres régions. La moyenne = la médiane pour le Petit lac dans ce substrat. Cela peut être significatif car trois endroits différents sont représentés dans les 14 échantillons. Cela confirme également l’observation selon laquelle les valeurs extrêmes sont moins probables dans le Petit lac par rapport au Haut lac et au Grand lac.</p>
<p><strong>Galet:</strong> 33 échantillons, 23 du Grand Lac, 7 du Haut lac et 3 du Petit lac. Le Petit lac a le résultat moyen le plus élevé (130pcs) ainsi que la médiane (120pcs). On note également les plus faibles valeurs moyennes et médianes enregistrées pour le Grand lac dans ce substrat.</p>
</section>
<section id="previsions-et-donnees-additionnelles">
<h3>Previsions et données additionnelles<a class="headerlink" href="#previsions-et-donnees-additionnelles" title="Permalink to this headline">#</a></h3>
<p>À l’exception de trois échantillons, toutes les données mises à jour se situent dans l’intervalle de densité la plus élevée (IDH) de 96 % prédit par le modèle dans le <em>premier regard</em>. Les trois échantillons suggèrent que les résultats élevés pour les fragments (pas les fibres) sont plus probables que ce que la première série d’échantillons suggère.</p>
<p><strong>Table des matières</strong></p>
<ol class="simple">
<li><p><a class="reference internal" href="#section-one"><span class="std std-ref">Résultats par site</span></a></p>
<ol class="simple">
<li><p><a class="reference internal" href="#section-oneab"><span class="std std-ref">Tables</span></a></p>
<ol class="simple">
<li><p>Table: Moyenne par événemet</p></li>
<li><p>Table: Moyenne par site</p></li>
</ol>
</li>
</ol>
</li>
<li><p><a class="reference internal" href="#section-two"><span class="std std-ref">Moyen par événement par région</span></a></p>
<ol class="simple">
<li><p>Table: <a class="reference internal" href="#section-twoa"><span class="std std-ref">Moyenne par région et par événement</span></a></p></li>
<li><p><a class="reference internal" href="#section-twob"><span class="std std-ref">Fonction de répartition</span></a></p></li>
</ol>
</li>
<li><p><a class="reference internal" href="#section-three"><span class="std std-ref">Nombre trouvé par substrat</span></a></p>
<ol class="simple">
<li><p>Table: <a class="reference internal" href="#section-threea"><span class="std std-ref">nombres déchantillons, moyen par matériel</span></a></p></li>
<li><p><a class="reference internal" href="#section-threeb"><span class="std std-ref">Fonction de répartition</span></a></p></li>
<li><p><a class="reference internal" href="#section-threec"><span class="std std-ref">Distribution par région</span></a></p></li>
<li><p><a class="reference internal" href="#section-threed"><span class="std std-ref">Resultats par région</span></a></p></li>
</ol>
</li>
<li><p><a class="reference internal" href="#section-four"><span class="std std-ref">Previsions et données additionnelles</span></a></p></li>
</ol>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># survey results</span>
<span class="c1"># this is the initial data set, used to make the predictive model</span>
<span class="n">cprior</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/workDataOne.csv&quot;</span><span class="p">)</span>
<span class="c1"># these are additions to the data set</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/newmicrodata.csv&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">cprior</span> <span class="o">=</span> <span class="n">cprior</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">new_data</span> <span class="o">=</span> <span class="n">new_data</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="c1"># posterior predictive results from last itteration</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/fibersGePosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">bi</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/fragmentsGePosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">ai</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/totalGePosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">totalPosterior</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>    
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/fibersVdPosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">di</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/fragmentsVdPosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">ci</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data/totalVdPosteriorPredictive.json&quot;</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">afile</span><span class="p">:</span>
    <span class="n">totalPosteriorvd</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">afile</span><span class="p">)</span>

<span class="c1"># sample location and lake region</span>
<span class="n">regions</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Hermance&#39;</span><span class="p">:</span><span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Savonière&#39;</span><span class="p">:</span> <span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Baby Plage&#39;</span><span class="p">:</span> <span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Versoix&#39;</span><span class="p">:</span> <span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Crans&#39;</span><span class="p">:</span><span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Gland&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Rolle&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Aubonne&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Tolochenaz&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Préverenges&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Vidy&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span> 
    <span class="s1">&#39;Lutry&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Cully&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Pichette&#39;</span><span class="p">:</span><span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Clarens&#39;</span><span class="p">:</span> <span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Grangettes&#39;</span><span class="p">:</span><span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Bouveret&#39;</span><span class="p">:</span><span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Tougues&#39;</span><span class="p">:</span> <span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Excenevex&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Meillerie&#39;</span><span class="p">:</span><span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Lugrin&#39;</span><span class="p">:</span><span class="s2">&quot;haut-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Amphion&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Anthy&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Port Choiseul&#39;</span><span class="p">:</span><span class="s2">&quot;petit-lac&quot;</span><span class="p">,</span>
    <span class="s1">&#39;Saint-Disdille&#39;</span><span class="p">:</span><span class="s2">&quot;grand-lac&quot;</span>   
<span class="p">}</span>

<span class="c1"># column groups by material type</span>
<span class="n">fibres</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fr&#39;</span><span class="p">,</span> <span class="s1">&#39;fb&#39;</span><span class="p">,</span> <span class="s1">&#39;fj&#39;</span><span class="p">,</span> <span class="s1">&#39;fw&#39;</span><span class="p">,</span> <span class="s1">&#39;fn&#39;</span><span class="p">,</span> <span class="s1">&#39;fa&#39;</span><span class="p">]</span>
<span class="n">fdure</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fdr&#39;</span><span class="p">,</span> <span class="s1">&#39;fdb&#39;</span><span class="p">,</span> <span class="s1">&#39;fdj&#39;</span><span class="p">,</span> <span class="s1">&#39;fdw&#39;</span><span class="p">,</span> <span class="s1">&#39;fdn&#39;</span><span class="p">,</span> <span class="s1">&#39;fda&#39;</span><span class="p">]</span>
<span class="n">souple</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;fsr&#39;</span><span class="p">,</span> <span class="s1">&#39;fsb&#39;</span><span class="p">,</span> <span class="s1">&#39;fsj&#39;</span><span class="p">,</span> <span class="s1">&#39;fsw&#39;</span><span class="p">,</span> <span class="s1">&#39;fsn&#39;</span><span class="p">,</span> <span class="s1">&#39;fsa&#39;</span><span class="p">]</span>
<span class="n">fragments</span> <span class="o">=</span> <span class="p">[</span><span class="o">*</span><span class="n">fdure</span><span class="p">,</span> <span class="o">*</span><span class="n">souple</span><span class="p">]</span>

<span class="c1"># labels for column values</span>
<span class="n">name_the_zones</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span><span class="s2">&quot;ligne-d&#39;eau&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;plage-seche&quot;</span><span class="p">}</span>
<span class="n">m_labels</span> <span class="o">=</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="s2">&quot;Sables fin&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">:</span><span class="s2">&quot;Sables grossiers&quot;</span><span class="p">,</span> <span class="mi">3</span><span class="p">:</span><span class="s2">&quot;Graviers&quot;</span><span class="p">,</span> <span class="mi">4</span><span class="p">:</span><span class="s2">&quot;Galets&quot;</span><span class="p">}</span>

<span class="k">def</span> <span class="nf">clean_data</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;added&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[[</span><span class="o">*</span><span class="n">fibres</span><span class="p">,</span> <span class="o">*</span><span class="n">fdure</span><span class="p">,</span> <span class="o">*</span><span class="n">souple</span><span class="p">]]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;fibres&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">fibres</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;fdure&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">fdure</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;souple&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">souple</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;fragments&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">[</span><span class="n">fragments</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="n">c</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span> <span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="s2">&quot;z&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">name_the_zones</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
        
        <span class="c1"># the samples where at least one particle was recorded</span>
        <span class="n">cInventoryComplete</span> <span class="o">=</span> <span class="n">c</span><span class="p">[(</span><span class="n">c</span><span class="o">.</span><span class="n">added</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">z</span> <span class="o">==</span> <span class="s2">&quot;ligne-d&#39;eau&quot;</span><span class="p">)]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>        
        <span class="n">cA</span> <span class="o">=</span> <span class="n">cInventoryComplete</span><span class="p">[[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="s2">&quot;fdure&quot;</span><span class="p">,</span> <span class="s2">&quot;souple&quot;</span><span class="p">,</span> <span class="s2">&quot;fragments&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">d</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">cA</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">d</span>

<span class="c1"># new data</span>
<span class="n">newData</span> <span class="o">=</span> <span class="n">clean_data</span><span class="p">([</span><span class="n">new_data</span><span class="p">])[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># prior data</span>
<span class="n">cAdded</span> <span class="o">=</span> <span class="n">cprior</span><span class="p">[[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="s2">&quot;fdure&quot;</span><span class="p">,</span> <span class="s2">&quot;souple&quot;</span><span class="p">,</span> <span class="s2">&quot;fragments&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="c1"># remove any records from the prior data that may be in the new data</span>
<span class="n">newData</span> <span class="o">=</span> <span class="n">newData</span><span class="p">[</span><span class="o">~</span> <span class="n">newData</span><span class="o">.</span><span class="n">E</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">cAdded</span><span class="o">.</span><span class="n">E</span><span class="o">.</span><span class="n">unique</span><span class="p">())]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="c1"># label the prior and update data</span>
<span class="n">cAdded</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;prior&quot;</span>
<span class="n">newData</span><span class="p">[</span><span class="s2">&quot;status&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;update&quot;</span>

<span class="c1"># combine the prior and update to one data set</span>
<span class="n">comWorkData</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">cAdded</span><span class="p">,</span> <span class="n">newData</span><span class="p">])</span>
<span class="n">comWorkData</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">comWorkData</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;data/workDataTwo.csv&quot;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="c1"># work columns</span>
<span class="n">id_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;p&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">]</span>
<span class="n">value_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="s2">&quot;fdure&quot;</span><span class="p">,</span> <span class="s2">&quot;souple&quot;</span><span class="p">]</span>
<span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span><span class="s2">&quot;place&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">:</span><span class="s2">&quot;événement&quot;</span><span class="p">,</span> <span class="s2">&quot;z&quot;</span><span class="p">:</span><span class="s2">&quot;zone&quot;</span><span class="p">,</span> <span class="s2">&quot;m&quot;</span><span class="p">:</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">:</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;variable&quot;</span><span class="p">:</span><span class="s2">&quot;matériel&quot;</span><span class="p">}</span>

<span class="c1"># new data in long form</span>
<span class="n">cwd</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">comWorkData</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="n">id_vars</span><span class="p">,</span> <span class="n">value_vars</span><span class="o">=</span><span class="n">value_vars</span><span class="p">)</span>
<span class="n">cwd</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">cwd</span><span class="p">[</span><span class="s2">&quot;région&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">place</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">regions</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">cwd</span><span class="p">[</span><span class="s2">&quot;substrat&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">substrat</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">m_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="c1"># charts, labels, colors</span>
<span class="n">region_palette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;grand-lac&quot;</span><span class="p">:</span><span class="s2">&quot;sandybrown&quot;</span><span class="p">,</span> <span class="s2">&quot;petit-lac&quot;</span><span class="p">:</span><span class="s2">&quot;lightseagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;haut-lac&quot;</span><span class="p">:</span><span class="s2">&quot;cadetblue&quot;</span><span class="p">}</span>
<span class="n">m_palette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Sables fin&quot;</span><span class="p">:</span><span class="s2">&quot;darkgoldenrod&quot;</span><span class="p">,</span><span class="s2">&quot;Sables grossiers&quot;</span><span class="p">:</span><span class="s2">&quot;lightseagreen&quot;</span><span class="p">,</span> <span class="s2">&quot;Graviers&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="s2">&quot;Galets&quot;</span><span class="p">:</span><span class="s2">&quot;dodgerblue&quot;</span><span class="p">}</span>
<span class="n">sns</span><span class="o">.</span><span class="n">set_style</span><span class="p">(</span><span class="s2">&quot;whitegrid&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="comptage-moyen-par-evenement-par-plage-sur-ligne-d-eau">
<span id="section-one"></span><h2>1. Comptage moyen par événement par plage sur <em>ligne-d’eau</em><a class="headerlink" href="#comptage-moyen-par-evenement-par-plage-sur-ligne-d-eau" title="Permalink to this headline">#</a></h2>
<section id="toutes-variantes-confondues-toutes-les-donnees">
<h3>Toutes variantes confondues, toutes les données<a class="headerlink" href="#toutes-variantes-confondues-toutes-les-donnees" title="Permalink to this headline">#</a></h3>
<p>Le nombre moyen de fragments pour chaque événement variait de 19 (Crans) à 420 (Grangettes) par échantillon de 5 X 10 X 10 cm. Les événements pour lesquels aucun compte n’a été rapporté ont été retirés de ce test.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># total per event by place</span>
<span class="n">a_df</span><span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;événement&quot;</span><span class="p">,</span> <span class="s2">&quot;place&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;place&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;place&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">dodge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Fragments&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.5</span><span class="p">,</span> <span class="o">-</span><span class="mf">.08</span><span class="p">),</span> <span class="n">ncol</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;La distribution du nombre de fragments</span><span class="se">\n</span><span class="s2">par événement et par plage.&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">.9</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_4_0.png" src="_images/plstk_02_4_0.png" />
</div>
</div>
</section>
<section id="resultats-par-evenement">
<span id="section-oneab"></span><h3>Résultats par événement<a class="headerlink" href="#resultats-par-evenement" title="Permalink to this headline">#</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Le nombre moyen de particules par événement tous les sites et matériaux

NOTE: mean = moyen, count=nombre d&#39;événements, std=écart type

count    136.000000
mean     126.566176
std      120.694392
min       19.000000
25%       57.000000
50%       96.500000
75%      143.000000
max      884.000000
Name: y, dtype: float64 
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 
Le nombre moyen de particules par événement

place
Amphion           111.500000
Anthy              55.333333
Aubonne            66.833333
Baby Plage         90.875000
Bouveret           90.857143
Clarens            54.250000
Crans              19.000000
Cully             128.000000
Excenevex         113.250000
Gland              40.000000
Grangettes        419.750000
Hermance           66.500000
Lugrin            111.000000
Lutry              77.000000
Meillerie          57.000000
Pichette           72.000000
Port Choiseul      64.000000
Préverenges       218.277778
Rolle             153.761905
Saint-Disdille    179.833333
Savonière         130.000000
Tolochenaz         95.750000
Tougues            67.666667
Versoix            99.750000
Vidy               78.166667
Name: y, dtype: float64 
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="comptage-moyen-par-evenement-par-region-sur-ligne-d-eau">
<span id="section-two"></span><h2>2. Comptage moyen par événement par région sur <em>ligne-d’eau</em><a class="headerlink" href="#comptage-moyen-par-evenement-par-region-sur-ligne-d-eau" title="Permalink to this headline">#</a></h2>
<section id="id1">
<h3>Toutes variantes confondues, toutes les données<a class="headerlink" href="#id1" title="Permalink to this headline">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_df</span> <span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;région&quot;</span><span class="p">,</span><span class="s2">&quot;événement&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">region_palette</span><span class="p">,</span> <span class="n">dodge</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span> <span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Fibres + fragments&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper center&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;La distribution du nombre de fragments par région</span><span class="se">\n</span><span class="s2">Tous matériaux confondus&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">pad</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">.9</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_9_0.png" src="_images/plstk_02_9_0.png" />
</div>
</div>
</section>
<section id="resultats-par-region">
<span id="section-twoa"></span><h3>Résultats par région<a class="headerlink" href="#resultats-par-region" title="Permalink to this headline">#</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>NOTE: mean = moyen, count=nombre d&#39;événements, std=écart type

Fragments par événement &#39;haut-lac&#39;:

count     28.000000
mean     126.571429
std      160.477165
min       20.000000
25%       50.500000
50%       73.000000
75%      116.250000
max      697.000000
Name: y, dtype: float64

Fragments par événement &#39;grand-lac&#39;:

count     82.000000
mean     140.048780
std      117.968075
min       26.000000
25%       71.250000
50%      122.000000
75%      167.500000
max      884.000000
Name: y, dtype: float64

Fragments par événement &#39;petit-lac&#39;:

count     26.000000
mean      84.038462
std       57.296060
min       19.000000
25%       37.000000
50%       77.500000
75%      100.750000
max      244.000000
Name: y, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="la-fonction-de-repartition-par-region">
<span id="section-twob"></span><h2>La fonction de répartition par région<a class="headerlink" href="#la-fonction-de-repartition-par-region" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">ecdfplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cwd</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">region_palette</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cwd</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;probability&quot;</span><span class="p">,</span> <span class="n">binwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;layer&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">region_palette</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilité&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilité&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fibres + fragments&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fibres + fragments&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_13_0.png" src="_images/plstk_02_13_0.png" />
</div>
</div>
</section>
<section id="nombre-trouve-par-rapport-au-substrat">
<span id="section-three"></span><h2>3. Nombre trouvé par rapport au substrat<a class="headerlink" href="#nombre-trouve-par-rapport-au-substrat" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">a_df</span><span class="o">=</span> <span class="n">cwd</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;événement&quot;</span><span class="p">,</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="s2">&quot;matériel&quot;</span><span class="p">],</span> <span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)[</span><span class="s2">&quot;y&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">),</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;événement&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">m_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="s2">&quot;matériel&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_ticklabels</span><span class="p">([])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s1">&#39;x&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Événement&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;Fragments&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">14</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>

<span class="n">axOne</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">a_df</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;matériel&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">m_palette</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mf">.8</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">axOne</span><span class="p">,</span> <span class="n">dodge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">axOne</span><span class="o">.</span><span class="n">tick_params</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">which</span><span class="o">=</span><span class="s2">&quot;both&quot;</span><span class="p">,</span> <span class="n">labelrotation</span><span class="o">=</span><span class="mi">90</span><span class="p">)</span>
<span class="n">axOne</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axOne</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
<span class="n">axOne</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mf">.9</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Comparaison entre le type de matériel le ligne d&#39;eau et le substrat. &quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">14</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">.98</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_15_0.png" src="_images/plstk_02_15_0.png" />
</div>
</div>
<section id="nombre-d-echantillons-par-substrat-et-moyen-par-materiel">
<span id="section-threea"></span><h3>Nombre d’échantillons par substrat et moyen par matériel<a class="headerlink" href="#nombre-d-echantillons-par-substrat-et-moyen-par-materiel" title="Permalink to this headline">#</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 
Le nombre d&#39;échantillons par substrat

substrat
Galets              33
Graviers            18
Sables fin          51
Sables grossiers    34
Name: événement, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 
Le nombre moyen de particules par substrat et matériel

substrat          matériel
Galets            fdure         9.484848
                  fibres       88.333333
                  souple        3.393939
Graviers          fdure         5.111111
                  fibres       71.722222
                  souple        0.555556
Sables fin        fdure        17.784314
                  fibres      109.392157
                  souple       36.470588
Sables grossiers  fdure        27.529412
                  fibres       91.176471
                  souple        2.882353
Name: y, dtype: float64
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="la-fonction-de-repartition-par-substrat">
<span id="section-threeb"></span><h2>La fonction de répartition par substrat<a class="headerlink" href="#la-fonction-de-repartition-par-substrat" title="Permalink to this headline">#</a></h2>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>


<span class="n">sns</span><span class="o">.</span><span class="n">ecdfplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cwd</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">m_palette</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">histplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cwd</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;y&quot;</span><span class="p">,</span>  <span class="n">ax</span><span class="o">=</span><span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;substrat&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">m_palette</span><span class="p">,</span> <span class="n">stat</span><span class="o">=</span><span class="s2">&quot;probability&quot;</span><span class="p">,</span> <span class="n">binwidth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">multiple</span><span class="o">=</span><span class="s2">&quot;layer&quot;</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilité&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;probabilité&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fibres + fragments&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;Fibres + fragments&quot;</span><span class="p">,</span> <span class="n">labelpad</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_20_0.png" src="_images/plstk_02_20_0.png" />
</div>
</div>
<section id="substrat-et-region">
<span id="section-threec"></span><h3>Substrat et région<a class="headerlink" href="#substrat-et-region" title="Permalink to this headline">#</a></h3>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">comWorkData</span><span class="p">[</span><span class="s2">&quot;région&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">p</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">regions</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>
<span class="n">comWorkData</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">fibres</span> <span class="o">+</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">fragments</span>
<span class="n">comstd</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">total</span><span class="o">.</span><span class="n">std</span><span class="p">()</span>
<span class="n">commean</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">total</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">comWorkData</span><span class="p">[</span><span class="s2">&quot;total scaled&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">comWorkData</span><span class="o">.</span><span class="n">total</span> <span class="o">-</span> <span class="n">commean</span><span class="p">)</span><span class="o">/</span><span class="n">comstd</span>


<span class="n">cDataT</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">cDataT</span> <span class="o">=</span> <span class="n">cDataT</span><span class="p">[[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="s2">&quot;fragments&quot;</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">cDataT</span><span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cDataT</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">m_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="n">cMelted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">cDataT</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;région&quot;</span><span class="p">],</span> <span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;total&quot;</span><span class="p">])</span>
<span class="n">cMelted</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cMelted</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">region_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Les résultats par région et substrat&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;total &quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_22_0.png" src="_images/plstk_02_22_0.png" />
</div>
</div>
</section>
<section id="section-threed">
<span id="id2"></span><h3>Résultats par région<a class="headerlink" href="#section-threed" title="Permalink to this headline">#</a></h3>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 
La Moyen, médian et écart-type par substrat et région

                                     y                   
                                  mean median         std
substrat         région                                  
Galets           grand-lac  104.347826   87.0   71.787318
                 haut-lac    78.571429   72.0   40.467506
                 petit-lac  130.000000  120.0  109.343495
Graviers         grand-lac  128.000000  128.0         NaN
                 haut-lac    72.000000   83.0   47.465777
                 petit-lac   74.928571   77.5   30.332679
Sables fin       grand-lac  165.750000  129.0  158.974739
                 haut-lac   210.454545   99.0  232.325790
                 petit-lac   90.875000   79.5   69.790375
Sables grossiers grand-lac  140.461538  122.5   84.804354
                 haut-lac    66.142857   57.0   46.941199
                 petit-lac   19.000000   19.0         NaN
</pre></div>
</div>
</div>
</div>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cDataT</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">cDataT</span> <span class="o">=</span> <span class="n">cDataT</span><span class="p">[[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="s2">&quot;fragments&quot;</span><span class="p">,</span> <span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="s2">&quot;total scaled&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">cDataT</span><span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">cDataT</span><span class="o">.</span><span class="n">m</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">m_labels</span><span class="p">[</span><span class="n">x</span><span class="p">])</span>

<span class="n">cMelted</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">melt</span><span class="p">(</span><span class="n">cDataT</span><span class="p">,</span> <span class="n">id_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="s2">&quot;E&quot;</span><span class="p">,</span> <span class="s2">&quot;région&quot;</span><span class="p">],</span> <span class="n">value_vars</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;total scaled&quot;</span><span class="p">])</span>
<span class="n">cMelted</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>

<span class="n">sns</span><span class="o">.</span><span class="n">boxplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">cMelted</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;m&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;région&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">region_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Les résultats par région et substrat:</span><span class="se">\n</span><span class="s2">Totaux des événements mis à l&#39;échelle et normalisés&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s2">&quot;total normalisé&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_25_0.png" src="_images/plstk_02_25_0.png" />
</div>
</div>
</section>
</section>
<section id="le-nombre-d-echantillons-par-region-et-substrat-et-plage">
<h2>Le nombre d’echantillons par région et substrat et plage<a class="headerlink" href="#le-nombre-d-echantillons-par-region-et-substrat-et-plage" title="Permalink to this headline">#</a></h2>
<div class="cell tag_remove-input docutils container">
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 
Le nombre d&#39;echantillons par région et substrat et plage

région     substrat          place         
grand-lac  Galets            Amphion            4
                             Anthy              3
                             Aubonne            6
                             Lutry              4
                             Saint-Disdille     6
           Graviers          Cully              1
           Sables fin        Excenevex          8
                             Préverenges       18
                             Vidy               6
           Sables grossiers  Gland              1
                             Rolle             21
                             Tolochenaz         4
haut-lac   Galets            Clarens            4
                             Lugrin             3
           Graviers          Pichette           3
           Sables fin        Bouveret           7
                             Grangettes         4
           Sables grossiers  Meillerie          1
                             Tougues            6
petit-lac  Galets            Savonière          3
           Graviers          Hermance           4
                             Port Choiseul      6
                             Versoix            4
           Sables fin        Baby Plage         8
           Sables grossiers  Crans              1
Name: événement, dtype: int64
</pre></div>
</div>
</div>
</div>
</section>
<section id="modele-lineaire-generalise-mlg-glm">
<span id="section-four"></span><h2>4. Modèle linéaire généralisé (MLG/GLM)<a class="headerlink" href="#modele-lineaire-generalise-mlg-glm" title="Permalink to this headline">#</a></h2>
<p>Le modèle développé avec le premier ensemble de données (<em>prior</em>) a été utilisé pour prédire les valeurs possibles (<em>posterior predictive</em>) pour les données futures (<em>update</em>).</p>
<p>La mise à jour est concentrée avec les prieurs et la masse des valeurs prédites. Cependant, trois échantillons suggèrent que les résultats &gt; 200 pour les fragments (durs + souples) peuvent être plus fréquents que ce qui était supposé auparavant.</p>
<div class="cell tag_hide-input docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">update_palette</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;prior&quot;</span><span class="p">:</span><span class="s2">&quot;magenta&quot;</span><span class="p">,</span> <span class="s2">&quot;update&quot;</span><span class="p">:</span><span class="s2">&quot;orange&quot;</span><span class="p">}</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">axs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">sharey</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="n">cData</span> <span class="o">=</span> <span class="n">comWorkData</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

<span class="n">ax1</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">ax2</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">ax3</span> <span class="o">=</span> <span class="n">axs</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">bi</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">totalPosterior</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;posterior predictive GE&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ai</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">totalPosterior</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ai</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">bi</span><span class="p">,</span>  <span class="n">c</span><span class="o">=</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">di</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">totalPosteriorvd</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;posterior predictive VD&quot;</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ci</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">totalPosteriorvd</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.2</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">ci</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">di</span><span class="p">,</span>  <span class="n">c</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="n">linewidth</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">comWorkData</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;fibres&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span>  <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">update_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax2</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">comWorkData</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;fragments&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;total&quot;</span><span class="p">,</span> <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">update_palette</span><span class="p">,</span> <span class="n">ax</span><span class="o">=</span><span class="n">ax1</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">comWorkData</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="s2">&quot;fragments&quot;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="s2">&quot;fibres&quot;</span><span class="p">,</span>  <span class="n">hue</span><span class="o">=</span><span class="s2">&quot;status&quot;</span><span class="p">,</span> <span class="n">palette</span><span class="o">=</span><span class="n">update_palette</span><span class="p">,</span><span class="n">ax</span><span class="o">=</span><span class="n">ax3</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">ax1</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;total/fragments&quot;</span><span class="p">)</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;total/fibres&quot;</span><span class="p">)</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;fibres/fragments&quot;</span><span class="p">)</span>

<span class="n">h</span><span class="p">,</span> <span class="n">l</span> <span class="o">=</span> <span class="n">ax2</span><span class="o">.</span><span class="n">get_legend_handles_labels</span><span class="p">()</span>
<span class="n">ax2</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">ax1</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>
<span class="n">ax3</span><span class="o">.</span><span class="n">get_legend</span><span class="p">()</span><span class="o">.</span><span class="n">remove</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">suptitle</span><span class="p">(</span><span class="s2">&quot;Comparer les prévisions et les résultats.&quot;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">h</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mf">.16</span><span class="p">,</span> <span class="mf">.3</span><span class="p">),</span> <span class="n">loc</span><span class="o">=</span><span class="s2">&quot;upper left&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">tight_layout</span><span class="p">()</span>

<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="_images/plstk_02_29_0.png" src="_images/plstk_02_29_0.png" />
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="plstk_01.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Un premier regard: La quantité probable de particules dans un polygone</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="references.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">References</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Association pour la Sauvegarde du Léman<br/>
  
      &copy; Copyright 2022.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>